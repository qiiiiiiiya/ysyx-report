TRM 通常指 Truth Table Minimizer（真值表最小化器），是一种用于简化逻辑函数的工具或算法。
每一条指令具体行为的描述
指令opcode的编码表格
**立即数**
**inc **指令的基本功能是：将指定的寄存器或内存地址中的值加 1，并更新标志位（如零标志 ZF、溢出标志 OF 等）。
拼接宏：是一种特殊的预处理宏，通过 ## 操作符将两个独立的标识符连接成一个新的标识符
**学习符号扩展与位操作在计算机层面有什么意义呢**

BITMASK(bits):生成位掩码
#define BITMASK(bits) ((1ull << (bits)) -1 )
生成一个低bits位全为1、其余位全为0的64位无符号整数掩码
BITS(x,hi,lo):提取指定位域
#define BITS(x,hi,lo) (((x) >> (lo)) & BITMASK((hi)-(lo)+1))
从整数x中提取从位lo(最低有效位）到位hi（最高有效位）的位域，并将其右对齐到最低位
SEXT（x,len）:符号扩展 
#define SEXT(x,len) ({struct {int64_t n:len; } __x={ .n=x }; (uint64_t)__x.n; })
作用：将len位的有符号整数x扩展为64位有符号整数，保持数值不变

编译器负责在**延迟槽**中放置一条有意义的指令：
  使得无论是否跳转，按照这一约定的执行顺序都能正确的执行程序
                                 (•́へ•́╬)   **  RISV-V**
**立即数**均进行**符号扩展**
  .可以直接表示负数
  .可以用addi来实现subi

通过尽量减少每个比特的来源位置情况，来减少选择器的输入端，从而节省实现成本 
在所有指令格式中，rd,rs1,rs2总是在相同的位置：实现时可减少不必要的选择器

12+20的考量

访存指令：
没有专门的push，pop指令，可通过以sp作为基址寄存器来实现
sp(stack point)栈指针寄存器

不对齐访存的处理
：让执行环境来决定是否支持不对齐访问
  若执行环境支持
  ：纯硬件实现：与x86类似
    纯软件实现：抛异常，软件用若干条lb的组合来实现

                                                        **程序的机器级表示**
                                                       **1.常数，变量和运算**
如何用RISC-V指令集实现C语言中的各种功能
体会C语言是一门高级汇编语言

32位常数的装入

rv32gcc -O2 -c a.c
rvobjdump -M no-aliases -d a.o

lui和addi拼接，先跨一大步在跨一小步。

用访问数据的延迟换取更短的指令序列

乱序执行的高性能CPU中，取指令的代价大于取数据
  在流水线中，指令是数据的上游
  若从内存中取数据，只需让取数逻辑等待，可先执行其他无关指令
  若从内存取指令，则整条流水线都要等待
伪指令

变量的分配：
{v1,v2,...}->{r1,r2,...,M}
在实际的电路中
:R访问速度较快（当前周期可读出），但容量有限
M访问速度较慢（需要上百个周期读出），但容量几乎无限
  DDR颗粒中的存储单元由一个晶体管+一个电容组成
  电容需要充放电，延迟普遍比晶体大，故通常M的访问速度较慢
分配策略：常用快，不常用慢
编译困难，难以分析预测哪个常用
所以所有变量先分配在M,需要访问时读入R

                                                         **程序的内存布局：**
与变量有关的三个内存区域：静态数据区，堆区，栈区
  静态=不动态增长和变化，编译时确定
四种需要分配的C变量 data区
全局变量      data区
静态局部变量   stack区
动态变量     heap区

变量分配不对齐会降低访问效率
  在x86上，当不对齐的数据跨越64字节边界时，可观察到约2x的性能下降

                                                         ** 运算和指令**
 add sub mul div rem
 mv,访存指令
 and or xor
 xori r,r, -1
 sll srl sra
 sltiu r,r ,1
 slt
编译优化-尽可能在寄存器中进行运算
有符号数和无符号数：
硬件层面，有符号加法和无符号加法的行为完全一致，可以使用同一个加法器模块进行计算。
                                                   **2.条件分支和循环**
if-else   
可通过一条无符号比较指令实现有符号数的区间检查
switch-case  


abstract machine裸机运行

工具与基础设施



                                                            **单周期处理器设计**
微结构设计

指令和功能单元
编写可维护的代码




ELF文件和链接

















